$(function() {

  $(".remove").click(function() {
    var deletedRow = $(this).closest("tr");
    var id = deletedRow.attr("id");

    if($(this).hasClass("application")) {
      var path = "{{ path('remove_application') }}";
    }
    if($(this).hasClass("job")) {
      var path = "{{ path('remove_job') }}";
    }

    $.post(path, {id: id}, function(result){
      deletedRow.fadeTo(400, 0, function() {
        $(this).remove();
      });
    });
  });

  $(".invite").click(function() {
    var id = $(this).closest("tr").attr("id");
    var tableField = $(this).closest("td");
    var path = "{{ path('invite') }}";

    $.post(path, {id: id}, function(result){
      tableField.html("&#10003;");
    });
  });

  $.extend(true, $.fn.dataTable.defaults, {
    "language": {
      "url": "//cdn.datatables.net/plug-ins/1.10.19/i18n/Dutch.json"
    }
  });

  $("#employer-jobs").DataTable( {
    "searching": false,
    "info": false,
    "paging": false,
    "stripeClasses": []
  });

  $("#my-jobs, #my-applications").DataTable( {
    "columnDefs": [ {
      "targets": [4],
      "orderable": false
    }],
    "searching": false,
    "info": false,
    "paging": false,
    "stripeClasses": []
  });

  $("#job-applications").DataTable( {
    "searching": false,
    "stripeClasses": []
  });

});
